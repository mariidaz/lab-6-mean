{"ast":null,"code":"var _jsxFileName = \"D:\\\\Desktop\\\\simple-todo-app\\\\src\\\\components\\\\TodoContainer.js\";\nimport React, { Component } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport TodosList from \"./TodosList\";\nimport Header from \"./Header\";\nimport InputTodo from \"./InputTodo\";\nimport { getTodos, createTodo, updateTodo, deleteTodo } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass TodoContainer extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      todos: []\n    };\n    this.loadTodos = async () => {\n      try {\n        const todos = await getTodos();\n        const formattedTodos = todos.map(product => ({\n          id: product._id,\n          title: product.name,\n          completed: false // можна додати поле completed в модель Product\n        }));\n        this.setState({\n          todos: formattedTodos\n        });\n      } catch (error) {\n        console.error(\"Error loading todos:\", error);\n      }\n    };\n    this.handleChange = async id => {\n      try {\n        const todo = this.state.todos.find(t => t.id === id);\n        await updateTodo(id, {\n          name: todo.title,\n          price: 0,\n          // тимчасово, поки не додамо price в UI\n          completed: !todo.completed\n        });\n        this.setState({\n          todos: this.state.todos.map(todo => {\n            if (todo.id === id) {\n              todo.completed = !todo.completed;\n            }\n            return todo;\n          })\n        });\n      } catch (error) {\n        console.error(\"Error updating todo:\", error);\n      }\n    };\n    this.delTodo = async id => {\n      try {\n        await deleteTodo(id);\n        this.setState({\n          todos: [...this.state.todos.filter(todo => todo.id !== id)]\n        });\n      } catch (error) {\n        console.error(\"Error deleting todo:\", error);\n      }\n    };\n    this.addTodoItem = async title => {\n      try {\n        const newTodo = {\n          name: title,\n          price: 0,\n          // дефолтне значення\n          description: \"\",\n          completed: false\n        };\n        const created = await createTodo(newTodo);\n        this.setState({\n          todos: [...this.state.todos, {\n            id: created._id,\n            title: created.name,\n            completed: false\n          }]\n        });\n      } catch (error) {\n        console.error(\"Error adding todo:\", error);\n      }\n    };\n  }\n  componentDidMount() {\n    this.loadTodos();\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputTodo, {\n        addTodoProps: this.addTodoItem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TodosList, {\n        todos: this.state.todos,\n        handleChangeProps: this.handleChange,\n        deleteTodoProps: this.delTodo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default TodoContainer;","map":{"version":3,"names":["React","Component","v4","uuidv4","TodosList","Header","InputTodo","getTodos","createTodo","updateTodo","deleteTodo","jsxDEV","_jsxDEV","TodoContainer","constructor","args","state","todos","loadTodos","formattedTodos","map","product","id","_id","title","name","completed","setState","error","console","handleChange","todo","find","t","price","delTodo","filter","addTodoItem","newTodo","description","created","componentDidMount","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","addTodoProps","handleChangeProps","deleteTodoProps"],"sources":["D:/Desktop/simple-todo-app/src/components/TodoContainer.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport TodosList from \"./TodosList\";\nimport Header from \"./Header\";\nimport InputTodo from \"./InputTodo\";\nimport { getTodos, createTodo, updateTodo, deleteTodo } from '../services/api';\n\nclass TodoContainer extends Component {\n  state = {\n    todos: []\n  };\n\n  componentDidMount() {\n    this.loadTodos();\n  }\n\n  loadTodos = async () => {\n    try {\n      const todos = await getTodos();\n      const formattedTodos = todos.map(product => ({\n        id: product._id,\n        title: product.name,\n        completed: false // можна додати поле completed в модель Product\n      }));\n      this.setState({ todos: formattedTodos });\n    } catch (error) {\n      console.error(\"Error loading todos:\", error);\n    }\n  };\n\n  handleChange = async (id) => {\n    try {\n      const todo = this.state.todos.find(t => t.id === id);\n      await updateTodo(id, {\n        name: todo.title,\n        price: 0, // тимчасово, поки не додамо price в UI\n        completed: !todo.completed\n      });\n      \n      this.setState({\n        todos: this.state.todos.map(todo => {\n          if (todo.id === id) {\n            todo.completed = !todo.completed;\n          }\n          return todo;\n        })\n      });\n    } catch (error) {\n      console.error(\"Error updating todo:\", error);\n    }\n  };\n\n  delTodo = async (id) => {\n    try {\n      await deleteTodo(id);\n      this.setState({\n        todos: [\n          ...this.state.todos.filter(todo => todo.id !== id)\n        ]\n      });\n    } catch (error) {\n      console.error(\"Error deleting todo:\", error);\n    }\n  };\n\n  addTodoItem = async (title) => {\n    try {\n      const newTodo = {\n        name: title,\n        price: 0, // дефолтне значення\n        description: \"\",\n        completed: false\n      };\n      \n      const created = await createTodo(newTodo);\n      \n      this.setState({\n        todos: [\n          ...this.state.todos,\n          {\n            id: created._id,\n            title: created.name,\n            completed: false\n          }\n        ]\n      });\n    } catch (error) {\n      console.error(\"Error adding todo:\", error);\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"container\">\n        <Header />\n        <InputTodo addTodoProps={this.addTodoItem} />\n        <TodosList\n          todos={this.state.todos}\n          handleChangeProps={this.handleChange}\n          deleteTodoProps={this.delTodo}\n        />\n      </div>\n    );\n  }\n}\n\nexport default TodoContainer;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,EAAE,IAAIC,MAAM,QAAQ,MAAM;AACnC,OAAOC,SAAS,MAAM,aAAa;AACnC,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,SAAS,MAAM,aAAa;AACnC,SAASC,QAAQ,EAAEC,UAAU,EAAEC,UAAU,EAAEC,UAAU,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/E,MAAMC,aAAa,SAASZ,SAAS,CAAC;EAAAa,YAAA,GAAAC,IAAA;IAAA,SAAAA,IAAA;IAAA,KACpCC,KAAK,GAAG;MACNC,KAAK,EAAE;IACT,CAAC;IAAA,KAMDC,SAAS,GAAG,YAAY;MACtB,IAAI;QACF,MAAMD,KAAK,GAAG,MAAMV,QAAQ,CAAC,CAAC;QAC9B,MAAMY,cAAc,GAAGF,KAAK,CAACG,GAAG,CAACC,OAAO,KAAK;UAC3CC,EAAE,EAAED,OAAO,CAACE,GAAG;UACfC,KAAK,EAAEH,OAAO,CAACI,IAAI;UACnBC,SAAS,EAAE,KAAK,CAAC;QACnB,CAAC,CAAC,CAAC;QACH,IAAI,CAACC,QAAQ,CAAC;UAAEV,KAAK,EAAEE;QAAe,CAAC,CAAC;MAC1C,CAAC,CAAC,OAAOS,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC9C;IACF,CAAC;IAAA,KAEDE,YAAY,GAAG,MAAOR,EAAE,IAAK;MAC3B,IAAI;QACF,MAAMS,IAAI,GAAG,IAAI,CAACf,KAAK,CAACC,KAAK,CAACe,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACX,EAAE,KAAKA,EAAE,CAAC;QACpD,MAAMb,UAAU,CAACa,EAAE,EAAE;UACnBG,IAAI,EAAEM,IAAI,CAACP,KAAK;UAChBU,KAAK,EAAE,CAAC;UAAE;UACVR,SAAS,EAAE,CAACK,IAAI,CAACL;QACnB,CAAC,CAAC;QAEF,IAAI,CAACC,QAAQ,CAAC;UACZV,KAAK,EAAE,IAAI,CAACD,KAAK,CAACC,KAAK,CAACG,GAAG,CAACW,IAAI,IAAI;YAClC,IAAIA,IAAI,CAACT,EAAE,KAAKA,EAAE,EAAE;cAClBS,IAAI,CAACL,SAAS,GAAG,CAACK,IAAI,CAACL,SAAS;YAClC;YACA,OAAOK,IAAI;UACb,CAAC;QACH,CAAC,CAAC;MACJ,CAAC,CAAC,OAAOH,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC9C;IACF,CAAC;IAAA,KAEDO,OAAO,GAAG,MAAOb,EAAE,IAAK;MACtB,IAAI;QACF,MAAMZ,UAAU,CAACY,EAAE,CAAC;QACpB,IAAI,CAACK,QAAQ,CAAC;UACZV,KAAK,EAAE,CACL,GAAG,IAAI,CAACD,KAAK,CAACC,KAAK,CAACmB,MAAM,CAACL,IAAI,IAAIA,IAAI,CAACT,EAAE,KAAKA,EAAE,CAAC;QAEtD,CAAC,CAAC;MACJ,CAAC,CAAC,OAAOM,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC9C;IACF,CAAC;IAAA,KAEDS,WAAW,GAAG,MAAOb,KAAK,IAAK;MAC7B,IAAI;QACF,MAAMc,OAAO,GAAG;UACdb,IAAI,EAAED,KAAK;UACXU,KAAK,EAAE,CAAC;UAAE;UACVK,WAAW,EAAE,EAAE;UACfb,SAAS,EAAE;QACb,CAAC;QAED,MAAMc,OAAO,GAAG,MAAMhC,UAAU,CAAC8B,OAAO,CAAC;QAEzC,IAAI,CAACX,QAAQ,CAAC;UACZV,KAAK,EAAE,CACL,GAAG,IAAI,CAACD,KAAK,CAACC,KAAK,EACnB;YACEK,EAAE,EAAEkB,OAAO,CAACjB,GAAG;YACfC,KAAK,EAAEgB,OAAO,CAACf,IAAI;YACnBC,SAAS,EAAE;UACb,CAAC;QAEL,CAAC,CAAC;MACJ,CAAC,CAAC,OAAOE,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;MAC5C;IACF,CAAC;EAAA;EA7EDa,iBAAiBA,CAAA,EAAG;IAClB,IAAI,CAACvB,SAAS,CAAC,CAAC;EAClB;EA6EAwB,MAAMA,CAAA,EAAG;IACP,oBACE9B,OAAA;MAAK+B,SAAS,EAAC,WAAW;MAAAC,QAAA,gBACxBhC,OAAA,CAACP,MAAM;QAAAwC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACVpC,OAAA,CAACN,SAAS;QAAC2C,YAAY,EAAE,IAAI,CAACZ;MAAY;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAC7CpC,OAAA,CAACR,SAAS;QACRa,KAAK,EAAE,IAAI,CAACD,KAAK,CAACC,KAAM;QACxBiC,iBAAiB,EAAE,IAAI,CAACpB,YAAa;QACrCqB,eAAe,EAAE,IAAI,CAAChB;MAAQ;QAAAU,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/B,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAEV;AACF;AAEA,eAAenC,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}